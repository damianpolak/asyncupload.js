(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
module.exports=ajax=function ajax(){'use strict';return{send:function send(a,b,c){var d=new XMLHttpRequest;d.open('POST',a,!0),d.upload.addEventListener('progress',function(a){c(a)},!1),d.upload.addEventListener('error',function(){},!1),d.upload.addEventListener('abort',function(){},!1),d.upload.addEventListener('loadend',function(){},!1),d.onreadystatechange=function(){d.readyState!=XMLHttpRequest.DONE||200!=d.status},d.send(b)}}};

},{}],2:[function(require,module,exports){
module.exports=pattern=function pattern(){'use strict';return{input:{name:'userfile[]',type:'file',id:'_asInp-FileItem-'},list:{id:'_asLi-FileItem-',class:'test list-group-item align-middle'},progress:{wrapperId:'_asLi-ProgressBar',barId:'_asDiv-ProgressBar',infoId:'_asP-ProgressInfo'}}};

},{}],3:[function(require,module,exports){
var a=require('./asupload-ajax.js'),ajax=a();module.exports=proc=function proc(){'use strict';var a=function(){var a=new FormData,b=function(){var a=[],b=0,c=0,d=function(b){var d=a.findIndex(function(a){return a.name==b});return!(0>d)&&(a.splice(d,1),c--,!0)};return{add:function add(b){var c=a.find(function(a){return a.name===b.name});return!(void 0!=c)&&(a.push({name:b.name,type:b.type,size:b.size}),!0)},remove:d,list:function list(){return a},inc:function inc(){b++,c++},getCount:function getCount(){return c},getCourse:function getCourse(){return b}}}();return{send:function send(a,b,c){ajax.send(a,b,c)},files:b,getData:function getData(){return a},prepare:function prepare(c){for(var d=c.length,e=1;e<=d;e++)for(var f=c[e-1].files.length,g=function(f){var g=c[e-1].files[f],h=a.getAll('userfile[]');!h.find(function(a){return a.name===g.name})&&b.list().find(function(a){return a.name===g.name})&&a.append('userfile[]',g)},f=0;h<=f-1;h++)g(f);return a.append('approvedFiles',JSON.stringify(b.list())),a}}}();return{upload:a}};

},{"./asupload-ajax.js":1}],4:[function(require,module,exports){
var as_patt=require('./asupload-pattern.js'),superbytes=require('./superbytes.js'),pattern=as_patt();module.exports=ui=function ui(){'use strict';var a=function(){var b=0;return{add:function add(b){a.inc();var c=document.createElement('input');c.setAttribute('name',pattern.input.name),c.setAttribute('type',pattern.input.type),c.setAttribute('id',''+pattern.input.id+a.value()),c.setAttribute('hidden','hidden'),c.setAttribute('multiple','multiple'),document.getElementById(b).appendChild(c)},inc:function inc(){b++},value:function value(){return b},getAll:function getAll(){for(var b,c=[],d=1;d<=a.value();d++){b=document.getElementById(''+pattern.input.id+d).files.length;for(var e=0;e<=b-1;e++)c.push(document.getElementById(''+pattern.input.id+d).files[e])}return c},pattern:pattern}}(),b=function(){return{add:function add(a,b,c){var d=document.createElement('li');d.setAttribute('class',pattern.list.class),d.setAttribute('id',''+pattern.list.id+b),document.getElementById(c).appendChild(d);var e=document.createElement('div');e.setAttribute('class','itemTextTrunc'),document.getElementById(''+pattern.list.id+b).appendChild(e);var f=document.createElement('span');f.setAttribute('id','_as-FileItem-Name-'+b),e.appendChild(f),f.innerHTML=a.name;var g=document.createElement('div');g.setAttribute('class','_asDiv-ItemInfo'),e.appendChild(g),g.innerHTML='Size: '+superbytes(a.size)+' | Type: '+a.type;var h=document.createElement('div');h.setAttribute('class','itemRemoveButton'),d.appendChild(h);var i=document.createElement('i');i.setAttribute('class','btn-act fa fa-times text-primary'),i.setAttribute('id','_asI-FileItem-Rem-'+b),h.appendChild(i)},remove:function remove(a){var b=a.split('-'),c=b[b.length-1];document.getElementById(''+pattern.list.id+c).setAttribute('style','display: none;')}}}(),c=function(){return{show:function show(){document.getElementById(pattern.progress.wrapperId).setAttribute('style','display: block;')},inc:function inc(a,b,c){document.getElementById(pattern.progress.barId).setAttribute('style','width: '+a+'%'),document.getElementById(pattern.progress.barId).setAttribute('aria-valuenow',''+a),document.getElementById(pattern.progress.infoId).innerHTML=a+'% | '+superbytes(b)+'/'+superbytes(c)}}}();return{input:a,list:b,progress:c}};

},{"./asupload-pattern.js":2,"./superbytes.js":6}],5:[function(require,module,exports){
var as_proc=require('./asupload-proc.js'),as_patt=require('./asupload-pattern.js'),as_ui=require('./asupload-ui.js'),proc=as_proc(),pattern=as_patt(),ui=as_ui();(function(){'use strict';var a=document.getElementById('_asBtn-AddFiles'),b=document.getElementById('_asBtn-SendFiles');document.addEventListener('DOMContentLoaded',function(){a.addEventListener('click',function(a){d(a)}),b.addEventListener('click',function(a){a.preventDefault(),ui.progress.show(),document.getElementById('_asLi-SendFiles').setAttribute('style','display: none'),h(a)})});var c=function(a){0==proc.upload.files.getCount()?document.getElementById(a).setAttribute('style','display: flex'):document.getElementById(a).setAttribute('style','display: none')},d=function(){ui.input.add('_asFrm-InputFiles');var a=''+pattern.input.id+ui.input.value(),b=document.getElementById(a);b.click(),b.addEventListener('change',function(a){f(a),c('dropText')})},f=function(a){for(var b=a.target.files,d=0;d<=b.length-1;d++)if(proc.upload.files.add(b[d])){proc.upload.files.inc();var e=proc.upload.files.getCourse();ui.list.add(b[d],e,'_asUl-ListFiles'),document.getElementById('_asI-FileItem-Rem-'+e).addEventListener('click',function(a){g(a),c('dropText')})}},g=function(a){var b=a.target.id.split('-'),c=b[b.length-1],d=document.getElementById('_as-FileItem-Name-'+c);proc.upload.files.remove(d.innerText)&&ui.list.remove(a.target.id)},h=function(){for(var a=ui.input.getAll(),b=ui.input.value(),c=[],d=1;d<=b;d++)c.push(document.getElementById(''+pattern.input.id+d));proc.upload.send('server/upload.php',proc.upload.prepare(c),function(a){if(a.lengthComputable){var b=a.loaded/a.total;b=parseInt(100*b),ui.progress.inc(b,a.loaded,a.total),100===b}})}})();

},{"./asupload-pattern.js":2,"./asupload-proc.js":3,"./asupload-ui.js":4}],6:[function(require,module,exports){
module.exports=superbytes=function superbytes(a,b,c){'use strict';var d=Math.pow,e=['B','KB','MB','GB','TB','PB','EB','ZB','YB'];a=Math.abs(a);var f,g=0;if(void 0===b&&void 0===c&&(f=1024,g=2),'boolean'==typeof b?(f=b?1e3:1024,g='number'==typeof c?c:2):'number'==typeof b&&(g=b,f='boolean'==typeof c?c?1e3:1024:1024),Number.isFinite(a)){if(a<f){var h=a;return h+' '+e[0]}for(var j=1;8>=j;j++)if(a>=d(f,j)&&a<d(f,j+1)){var i=(a/d(f,j)).toFixed(g);return i+' '+e[j]}}};

},{}]},{},[5]);
