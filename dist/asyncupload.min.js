(function(){function b(d,e,g){function a(j,i){if(!e[j]){if(!d[j]){var k="function"==typeof require&&require;if(!i&&k)return k(j,!0);if(h)return h(j,!0);var c=new Error("Cannot find module '"+j+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[j]={exports:{}};d[j][0].call(l.exports,function(b){var c=d[j][1][b];return a(c||b)},l,l.exports,b,d,e,g)}return e[j].exports}for(var h="function"==typeof require&&require,c=0;c<g.length;c++)a(g[c]);return a}return b})()({1:[function(a,b){b.exports=ajax=function ajax(){"use strict";return{send:function send(a,b,c){var d=new XMLHttpRequest;d.open("POST",a,!0),d.upload.addEventListener("progress",function(a){c(a)},!1),d.upload.addEventListener("error",function(){},!1),d.upload.addEventListener("abort",function(){},!1),d.upload.addEventListener("loadend",function(){},!1),d.onreadystatechange=function(){d.readyState!=XMLHttpRequest.DONE||200!=d.status},d.send(b)}}}},{}],2:[function(a,b){b.exports=pattern=function pattern(){"use strict";return{input:{name:"userfile[]",type:"file",id:"_asInp-FileItem-"},list:{id:"_asLi-FileItem-",class:"test list-group-item align-middle"},progress:{wrapperId:"_asLi-ProgressBar",barId:"_asDiv-ProgressBar",infoId:"_asP-ProgressInfo"}}}},{}],3:[function(b,c){var d=b("./asupload-ajax.js"),a=d();c.exports=proc=function proc(){"use strict";var b=function(){var b=new FormData,c=function(){var a=[],b=0,c=0;return{add:function add(b){var c=a.find(function(a){return a.name===b.name});return!(void 0!=c)&&(a.push({name:b.name,type:b.type,size:b.size}),!0)},remove:function remove(b){var d=a.findIndex(function(a){return a.name==b});return!(0>d)&&(a.splice(d,1),c--,!0)},list:function list(){return a},inc:function inc(){b++,c++},getCount:function getCount(){return c},getCourse:function getCourse(){return b}}}();return{send:function send(b,c,d){a.send(b,c,d)},files:c,getData:function getData(){return b},prepare:function prepare(a){for(var d=a.length,e=1;e<=d;e++)for(var f=a[e-1].files.length,g=function(f){var g=a[e-1].files[f],h=b.getAll("userfile[]");!h.find(function(a){return a.name===g.name})&&c.list().find(function(a){return a.name===g.name})&&b.append("userfile[]",g)},h=0;h<=f-1;h++)g(h);return b.append("approvedFiles",JSON.stringify(c.list())),b}}}();return{upload:b}}},{"./asupload-ajax.js":1}],4:[function(a,b){var c=a("./asupload-pattern.js"),d=a("./superbytes.js"),e=c();b.exports=ui=function ui(){"use strict";var a=function(){var b=0;return{add:function add(b){a.inc();var c=document.createElement("input");c.setAttribute("name",e.input.name),c.setAttribute("type",e.input.type),c.setAttribute("id",""+e.input.id+a.value()),c.setAttribute("hidden","hidden"),c.setAttribute("multiple","multiple"),document.getElementById(b).appendChild(c)},inc:function inc(){b++},value:function value(){return b},getAll:function getAll(){for(var b,c=[],d=1;d<=a.value();d++){b=document.getElementById(""+e.input.id+d).files.length;for(var f=0;f<=b-1;f++)c.push(document.getElementById(""+e.input.id+d).files[f])}return c},pattern:e}}(),b=function(){return{add:function add(a,b,c){var f=document.createElement("li");f.setAttribute("class",e.list.class),f.setAttribute("id",""+e.list.id+b),document.getElementById(c).appendChild(f);var g=document.createElement("div");g.setAttribute("class","itemTextTrunc"),document.getElementById(""+e.list.id+b).appendChild(g);var h=document.createElement("span");h.setAttribute("id","_as-FileItem-Name-"+b),g.appendChild(h),h.innerHTML=a.name;var i=document.createElement("div");i.setAttribute("class","_asDiv-ItemInfo"),g.appendChild(i),i.innerHTML="Size: "+d(a.size)+" | Type: "+a.type;var j=document.createElement("div");j.setAttribute("class","itemRemoveButton"),f.appendChild(j);var k=document.createElement("i");k.setAttribute("class","btn-act fa fa-times text-primary"),k.setAttribute("id","_asI-FileItem-Rem-"+b),j.appendChild(k)},remove:function remove(a){var b=a.split("-"),c=b[b.length-1];document.getElementById(""+e.list.id+c).setAttribute("style","display: none;")}}}(),c=function(){return{show:function show(){document.getElementById(e.progress.wrapperId).setAttribute("style","display: block;")},inc:function inc(a,b,c){document.getElementById(e.progress.barId).setAttribute("style","width: "+a+"%"),document.getElementById(e.progress.barId).setAttribute("aria-valuenow",""+a),document.getElementById(e.progress.infoId).innerHTML=a+"% | "+d(b)+"/"+d(c)}}}();return{input:a,list:b,progress:c}}},{"./asupload-pattern.js":2,"./superbytes.js":6}],5:[function(a){var b=a("./asupload-proc.js"),c=a("./asupload-pattern.js"),d=a("./asupload-ui.js"),f=b(),e=c(),g=d();(function(){"use strict";var a=document.getElementById("_asBtn-AddFiles"),b=document.getElementById("_asBtn-SendFiles");document.addEventListener("DOMContentLoaded",function(){a.addEventListener("click",function(a){d(a)}),b.addEventListener("click",function(a){a.preventDefault(),g.progress.show(),document.getElementById("_asLi-SendFiles").setAttribute("style","display: none"),j(a)})});var c=function(){0==f.upload.files.getCount()?document.getElementById("drag-area").setAttribute("style","display: flex"):document.getElementById("drag-area").setAttribute("style","display: none")},d=function(){g.input.add("_asFrm-InputFiles");var a=""+e.input.id+g.input.value(),b=document.getElementById(a);b.click(),b.addEventListener("change",function(a){h(a),c(a)})},h=function(a){for(var b=a.target.files,d=0;d<=b.length-1;d++)if(f.upload.files.add(b[d])){f.upload.files.inc();var e=f.upload.files.getCourse();g.list.add(b[d],e,"_asUl-ListFiles"),document.getElementById(""+"_asI-FileItem-Rem-"+e).addEventListener("click",function(a){i(a),c(a)})}},i=function(a){var b=a.target.id.split("-"),c=b[b.length-1],d=document.getElementById(""+"_as-FileItem-Name-"+c);f.upload.files.remove(d.innerText)&&g.list.remove(a.target.id)},j=function(){for(var a=g.input.getAll(),b=g.input.value(),c=[],d=1;d<=b;d++)c.push(document.getElementById(""+e.input.id+d));f.upload.send("server/upload.php",f.upload.prepare(c),function(a){if(a.lengthComputable){var b=a.loaded/a.total;b=parseInt(100*b),g.progress.inc(b,a.loaded,a.total),100===b}})}})()},{"./asupload-pattern.js":2,"./asupload-proc.js":3,"./asupload-ui.js":4}],6:[function(a,b){b.exports=superbytes=function superbytes(a,b,c){"use strict";var d=Math.pow,e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];a=Math.abs(a);var f,g=0;if(void 0===b&&void 0===c&&(f=1024,g=2),"boolean"==typeof b?(f=b?1e3:1024,g="number"==typeof c?c:2):"number"==typeof b&&(g=b,f="boolean"==typeof c?c?1e3:1024:1024),Number.isFinite(a)){if(a<f){var h=a;return h+" "+e[0]}for(var j=1;8>=j;j++)if(a>=d(f,j)&&a<d(f,j+1)){var i=(a/d(f,j)).toFixed(g);return i+" "+e[j]}}}},{}]},{},[5]);
